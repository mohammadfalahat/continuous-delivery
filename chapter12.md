# فصل دوازدهم: مدیریت داده

## مقدمه
داده و مدیریت و سازمان‌دهی آن مسائل ویژه‌ای را برای فرایندهای تست و استقرار به همراه دارند که به دو دلیل اصلی برمی‌گردد. اول، حجم عظیمی از اطلاعات که معمولاً شامل بایت‌های کد منبع و پیکربندی برنامه است، در برابر حجم بسیار بیشتر داده‌هایی که وضعیت سیستم را ضبط می‌کنند، ناچیز است. دوم، چرخه حیات داده‌های کاربردی با دیگر اجزای سیستم متفاوت است. داده‌های کاربردی باید حفظ شوند؛ در حقیقت، داده‌ها معمولاً از برنامه‌هایی که آن‌ها را ایجاد و مصرف می‌کنند، طولانی‌تر عمر می‌کنند. و مهم‌تر اینکه، هنگام استقرار یا بازگشت از یک نسخه، نیاز است داده حفظ و مهاجرت یابد.

## ضرورت اتوماسیون مهاجرت دیتابیس
در بیشتر موارد، زمانی که کد جدیدی را استقرار می‌دهیم، می‌توانیم نسخه قبلی را پاک و نسخه جدید را جایگزین کنیم تا نقطه شروع به‌روشنی مشخص باشد. اما در سیستم‌های واقعی این گزینه برای داده‌ها معمولاً غیرممکن است، زیرا پس از انتشار، حجم داده‌ها افزایش می‌یابد و ارزش قابل‌توجهی پیدا می‌کنند؛ به‌گونه‌ای که برخی آن را باارزش‌ترین بخش سیستم تلقی می‌کنند. این پدیده هنگام تغییر ساختار یا محتوای داده‌ها به مشکلاتی منجر می‌شود.

بنابراین لازم است مکانیزم‌هایی تعبیه کنیم که تغییرات را با کمترین اختلال و بالاترین میزان اطمینان‌پذیری و تکرارپذیری در برنامه امکان‌پذیر سازند. کلید این کار، **اتوماسیون مهاجرت دیتابیس** است. ابزارهای متعددی اکنون وجود دارند که مهاجرت داده‌ها را به‌راحتی قابل اسکریپت‌نویسی به‌عنوان بخشی از _deployment process_ می‌کنند و امکان **versioning** دیتابیس و مهاجرت آن از هر نسخه به هر نسخه دیگری را فراهم می‌آورند. این رویکرد باعث جداشدن فرایند توسعه از فرایند استقرار می‌شود؛ به‌طوری که حتی اگر تمام تغییرات ساختاری دیتابیس به‌طور مستقل استقرار نیابند، می‌توان برای هر تغییر، یک اسکریپت مهاجرت ایجاد کرد و DBAs بدون نیاز به برنامه‌ریزی جامد اولیه، به‌صورت تدریجی با تحول برنامه همراه شوند.

## مدیریت داده‌های آزمایشی
بخش دیگر مهم این فصل، **مدیریت داده‌های تست** است. در تست‌های پذیرش یا تست ظرفیت (و گاهی حتی در تست‌های واحد)، رویکرد رایج گرفتن یک **production dump** از پایگاه داده است. این کار به دلایل متعددی از جمله حجم زیاد مجموعه داده و مشکلات امنیتی و محرمانگی، مناسب نیست. در این فصل، استراتژی‌های جایگزینی ارائه شده‌اند که داده‌های تست را به‌طور کارآمد و مقیاس‌پذیر تولید و مدیریت می‌کنند.

## نکته مهم
با وجود تمرکز بر RDBMSها، اصول و توصیه‌های این فصل برای هر نوع سامانه ذخیره‌سازی داده قابل استفاده است. اما درباره جزئیات فنی، از مثال‌های سیستم‌های رابطه‌ای استفاده شده است.

---
